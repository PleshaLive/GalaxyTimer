@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

:root {
    --font-family-base: 'Inter', sans-serif;
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    /* Основные цвета темы (предоставлены пользователем) */
    --color-background: #0E0A1C;
    --color-surface: #151127;
    --color-surface-secondary: #221C3B;
    --color-surface-tertiary: #151127; /* Фон для инпутов, совпадает с --color-surface */
    --color-border: #3B325C; /* Немного светлее и насыщеннее, чем surface-secondary */
    --color-border-light: #50467A;
    --color-divider: #1D1733; /* Для тонких разделителей */

    /* Текстовые цвета */
    --color-text-primary: #F0F2F5; /* Очень светлый для контраста */
    --color-text-secondary: #B0B8C5; /* Светло-серый */
    --color-text-muted: #808A9A;    /* Средне-серый */
    --color-text-placeholder: #606A7A; /* Для плейсхолдеров */

    /* Основной акцент (используем #7A64B9 от Team1 как общий) */
    --color-primary-base: #7A64B9;
    --color-primary-light: #9370DB; /* Чуть светлее */
    --color-primary-dark: #6A5ACD;  /* Чуть темнее */
    --rgb-primary: 122, 100, 185;
    --glow-primary: 0 0 15px rgba(var(--rgb-primary), 0.7), 0 0 30px rgba(var(--rgb-primary), 0.5);
    --text-shadow-primary: 0 0 10px rgba(var(--rgb-primary), 0.8);
    --color-text-on-primary: #FFFFFF; /* Белый текст на фиолетовом */

    /* Вторичный акцент */
    --color-secondary-base: #9D88D9; /* Светло-фиолетовый, гармонирует с основным */
    --color-secondary-light: #B0A0E0;
    --color-secondary-dark: #8A70C8;
    --rgb-secondary: 157, 136, 217;
    --glow-secondary: 0 0 15px rgba(var(--rgb-secondary), 0.7), 0 0 30px rgba(var(--rgb-secondary), 0.5);
    --text-shadow-secondary: 0 0 10px rgba(var(--rgb-secondary), 0.8);

    /* Семантические цвета (стандартные) */
    --color-success: #22c55e;
    --color-success-dark: #16a34a;
    --rgb-success: 34, 197, 94;
    --glow-success: 0 0 12px rgba(var(--rgb-success), 0.7), 0 0 24px rgba(var(--rgb-success), 0.4);

    --color-warning: #f59e0b;
    --color-warning-dark: #d97706;
    --color-warning-text: #1f2937; /* Темный текст для желтого фона */
    --rgb-warning: 245, 158, 11;
    --glow-warning: 0 0 12px rgba(var(--rgb-warning), 0.7), 0 0 24px rgba(var(--rgb-warning), 0.4);

    --color-error: #ef4444;
    --color-error-dark: #dc2626;
    --rgb-error: 239, 68, 68;
    --glow-error: 0 0 12px rgba(var(--rgb-error), 0.7), 0 0 24px rgba(var(--rgb-error), 0.4);

    --color-text-on-accent: #ffffff; /* Для текста на цветных фонах (success, error, secondary) */

    /* --- Цвета статусов --- */
    --color-status-upcom-bg: var(--color-primary-base); /* Используем основной акцент */
    --color-status-upcom-text: var(--color-text-on-primary);
    --color-status-upcom-border: var(--color-primary-dark);
    --glow-status-upcom: var(--glow-primary);

    --color-status-live-bg: var(--color-warning);
    --color-status-live-text: var(--color-warning-text);
    --color-status-live-border: var(--color-warning-dark);
    --glow-status-live: var(--glow-warning);

    --color-status-finished-bg: var(--color-success);
    --color-status-finished-text: #ffffff;
    --color-status-finished-border: var(--color-success-dark);
    --glow-status-finished: var(--glow-success);
    /* --- END: Status Specific Colors --- */

    /* === Цвета таблицы Map Veto === */
    --color-mapveto-th-text: var(--color-text-primary);
    --color-mapveto-th-icon: var(--color-primary-light);
    --color-mapveto-td-text: var(--color-text-secondary);

    --color-veto-ban-bg: rgba(var(--rgb-error), 0.2); /* Полупрозрачный фон */
    --color-veto-ban-text: var(--color-text-primary);
    --color-veto-ban-border: var(--color-error);
    --glow-veto-ban: var(--glow-error);

    --color-veto-pick-bg: rgba(var(--rgb-success), 0.2); /* Полупрозрачный фон */
    --color-veto-pick-text: var(--color-text-primary);
    --color-veto-pick-border: var(--color-success);
    --glow-veto-pick: var(--glow-success);

    --color-veto-decider-bg:  #4A4458; /* Нейтральный темно-серый с фиолетовым оттенком */
    --color-veto-decider-text:  var(--color-text-primary);
    --color-veto-decider-border:  #605A70;
    --glow-veto-decider: none;

    /* Сторона CT (предоставлено пользователем) */
    --color-veto-side-ct-bg: #E3D9FF;
    --color-veto-side-ct-text: #221C3B; /* Темный текст на светлом фоне */
    --color-veto-side-ct-border: #B0A0E0; /* Темнее лавандовый для рамки */

    /* Сторона T (предоставлено пользователем) */
    --color-veto-side-t-bg: #DFC9AA;
    --color-veto-side-t-text: #5A4F3F; /* Темный текст на светлом фоне */
    --color-veto-side-t-border: #C8B08E; /* Темнее для рамки */
    /* === END MAP VETO TABLE SPECIFIC COLORS === */

    /* === Цвета Команды 1 (предоставлены пользователем) === */
    --team1-color-accent: #C3ADFF; /* Светло-фиолетовый */
    --team1-color-rgb: 195, 173, 255;
    --team1-color-bg: rgba(var(--team1-color-rgb), 0.15); /* Прозрачный фон на основе акцента */
    --team1-color-text-on-accent: #221C3B; /* Темный текст на светло-фиолетовом */
    --team1-glow: 0 0 15px rgba(var(--team1-color-rgb), 0.7), 0 0 30px rgba(var(--team1-color-rgb), 0.5);
    --team1-text-shadow: 0 0 10px rgba(var(--team1-color-rgb), 0.8);
    /* Второй цвет для Team1 #7A64B9 используется как --color-primary-base */
    /* === END: Team 1 Specific Colors === */

    /* === Цвета Команды 2 (предоставлены пользователем) === */
    --team2-color-accent: #EADAA5; /* Светло-бежево-золотой */
    --team2-color-rgb: 234, 218, 165;
    --team2-color-bg: rgba(var(--team2-color-rgb), 0.15); /* Прозрачный фон на основе акцента */
    --team2-color-text-on-accent: #726952; /* Темный текст (второй цвет команды) на светло-золотом */
    --team2-glow: 0 0 15px rgba(var(--team2-color-rgb), 0.7), 0 0 30px rgba(var(--team2-color-rgb), 0.5);
    --team2-text-shadow: 0 0 10px rgba(var(--team2-color-rgb), 0.8);
    /* Второй цвет для Team2 #726952 можно использовать для --team2-color-darker-bg или границ при необходимости */
    /* === END: Team 2 Specific Colors === */

    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;

    --border-radius-sm: 6px;
    --border-radius-md: 8px;
    --border-radius-lg: 12px;
    --border-radius-xl: 16px;
    --border-radius-round: 50%;

    --shadow-sm: 0 2px 8px rgba(0,0,0,0.4);
    --shadow-md: 0 5px 15px rgba(0,0,0,0.5);
    --shadow-lg: 0 10px 30px rgba(0,0,0,0.6);
    --shadow-inset: inset 0 2px 5px rgba(0,0,0,0.5);
    /* Нейморфные тени, настроенные под фон #0E0A1C */
    --shadow-neumorphic: 5px 5px 10px #080611, -5px -5px 10px #140E27;
    --shadow-neumorphic-inset: inset 3px 3px 6px #080611, inset -3px -3px 6px #140E27;

    --transition-base: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    --transition-fast: all 0.15s ease-out;
}

@keyframes savedPulse {
    0% {
      /* Начинаем с немного уменьшенного размера и базового свечения */
      transform: scale(0.98);
      box-shadow: var(--glow-success); /* Базовое свечение 'saved' */
      opacity: 0.9;
    }
    50% {
      /* Увеличиваемся чуть больше нормы и усиливаем свечение */
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(var(--rgb-success), 1), 0 0 50px rgba(var(--rgb-success), 0.7); /* Яркая пульсация */
      opacity: 1;
    }
    100% {
      /* Возвращаемся к нормальному размеру и базовому свечению */
      transform: scale(1);
      box-shadow: var(--glow-success); /* Базовое свечение 'saved' */
      opacity: 1;
    }
  }

/* Базовые стили и сброс */
* { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 100%; scroll-behavior: smooth; }
body {
    background-color: var(--color-background);
    color: var(--color-text-primary);
    font-family: var(--font-family-base);
    font-size: 14px;
    line-height: 1.7;
    min-height: 100vh;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.container {
    max-width: 1920px;
    margin: 0 auto;
    padding: var(--spacing-lg) var(--spacing-xl);
}

.card-style {
    background-color: var(--color-surface);
    border-radius: var(--border-radius-lg);
    border: 1px solid var(--color-border);
    padding: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
    box-shadow: var(--shadow-md);
    transition: var(--transition-base);
    position: relative;
}
.card-style:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-lg), 0 0 20px rgba(var(--rgb-primary), 0.2);
    border-color: var(--color-primary-light);
}

/* Типографика */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family-base);
    font-weight: var(--font-weight-semibold);
    line-height: 1.4;
    margin-bottom: var(--spacing-md);
    color: var(--color-text-primary);
}
h1 {
    font-size: 2rem;
    color: var(--color-primary-light);
    text-shadow: var(--text-shadow-primary);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--spacing-lg);
}
h2 {
    font-size: 1.25rem;
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}
h3 {
    font-size: 1rem;
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-sm);
}
.section-title {
    font-size: 1.6rem;
    color: var(--color-secondary-light);
    margin-bottom: var(--spacing-md);
    padding-bottom: var(--spacing-sm);
    border-bottom: 2px solid var(--color-secondary);
    font-weight: var(--font-weight-semibold);
    text-shadow: var(--text-shadow-secondary);
}
.tab-title {
    font-size: 1.8rem;
    color: var(--color-primary-light);
    text-align: center;
    margin-bottom: var(--spacing-lg);
    text-shadow: var(--text-shadow-primary);
}
.tab-title i {
    margin-right: var(--spacing-sm);
}

label {
    display: block;
    font-size: 0.8rem;
    font-weight: var(--font-weight-medium);
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}
label i {
    margin-right: var(--spacing-xs);
    color: var(--color-primary-light);
}


/* Элементы форм (Общие) */
.header-input, .control-select, .team-select, .map-name-select, .map-score-input, .time-input, .status-select, .veto-action, .veto-map, .veto-team, .veto-side,
.edit-input
{
    background-color: var(--color-surface-tertiary);
    border: 1px solid var(--color-border);
    color: var(--color-text-primary);
    border-radius: var(--border-radius-md);
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: 0.9rem;
    line-height: 1.5;
    transition: var(--transition-base);
    outline: none;
    width: 100%;
    font-family: var(--font-family-base);
    box-shadow: var(--shadow-inset);
}
.header-input:hover, .control-select:hover, .team-select:hover, .map-name-select:hover, .map-score-input:hover, .time-input:hover, .status-select:hover, .veto-action:hover, .veto-map:hover, .veto-team:hover, .veto-side:hover,
.edit-input:hover
{
    border-color: var(--color-primary-light);
}
.header-input:focus, .control-select:focus, .team-select:focus, .map-name-select:focus, .map-score-input:focus, .time-input:focus, .status-select:focus, .veto-action:focus, .veto-map:focus, .veto-team:focus, .veto-side:focus,
.edit-input:focus
{
    border-color: var(--color-primary-light);
    box-shadow: 0 0 0 3px rgba(var(--rgb-primary), 0.3), var(--shadow-inset);
    background-color: var(--color-surface);
}
.header-input::placeholder, .map-score-input::placeholder, .time-input::placeholder,
.edit-input::placeholder
{
    color: var(--color-text-placeholder);
    opacity: 0.8;
}
/* Стили для стандартных select, которые НЕ будут Select2 */
.styled-select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23a0aec0' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right var(--spacing-md) center;
    background-size: 16px 12px;
    padding-right: calc(var(--spacing-md) * 2 + 16px);
}
.styled-select option {
    background-color: var(--color-surface-secondary);
    color: var(--color-text-primary);
}


/* Кнопки */
.app-button, button {
    padding: calc(var(--spacing-sm) + 2px) var(--spacing-lg);
    font-size: 0.9rem;
    font-weight: var(--font-weight-semibold);
    border-radius: var(--border-radius-md);
    border: 1px solid rgba(255, 255, 255, 0.1); /* Начальная граница для glass */
    background-color: var(--color-primary-base); /* Базовый цвет */
    color: var(--color-text-on-primary);
    box-shadow: 0 2px 5px rgba(0,0,0,0.4);
    cursor: pointer;
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease, backdrop-filter 0.3s ease;
    position: relative; /* Для ::before и z-index */
    overflow: hidden;   /* Для ::before и border-radius */
    z-index: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    text-align: center;
    line-height: 1.5;
    letter-spacing: 0.03em;
    min-width: 140px;
    text-transform: uppercase;
}
/* Иконка и текст внутри кнопки */
.app-button i, button i {
    margin-right: var(--spacing-sm);
    font-size: 0.95em;
    position: relative; /* Поверх блика */
    z-index: 2;
}
/* Текст внутри кнопки (если он не в span, могут быть проблемы) */
.app-button span, button span {
    position: relative;
    z-index: 2;
}

/* === Псевдоэлемент для блика === */
.app-button::before, button::before {
    content: "";
    position: absolute;
    top: 0;
    left: -85%; /* Начинаем сильно левее */
    width: 60%; /* Ширина самого блика */
    height: 100%;
    background: linear-gradient(
        75deg, /* Угол наклона блика */
        transparent 0%,
        rgba(255, 255, 255, 0.35) 50%, /* Цвет и прозрачность блика */
        transparent 100%
    );
    transform: skewX(-25deg); /* Наклон блика */
    opacity: 0; /* Скрыт по умолчанию */
    transition: left 0.6s cubic-bezier(0.23, 1, 0.32, 1), /* Анимация движения */
                opacity 0.4s ease-in-out; /* Анимация появления/исчезновения */
    z-index: 1; /* Под текстом/иконкой, над фоном */
}

/* === Hover State - Glassmorphism + Анимация блика === */
.app-button:not(:disabled):not(.saving):not(.saved):not(.error):hover,
button:not(:disabled):not(.saving):not(.saved):not(.error):hover {
    /* Glassmorphism фон */
    background-color: rgba(255, 255, 255, 0.15);
    -webkit-backdrop-filter: blur(5px);
    backdrop-filter: blur(5px);
    border-color: rgba(255, 255, 255, 0.25);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    color: var(--color-text-primary);
    transform: translateY(-2px); /* Небольшой подъем */
}

/* Запуск анимации блика при наведении */
.app-button:not(:disabled):not(.saving):not(.saved):not(.error):hover::before,
button:not(:disabled):not(.saving):not(.saved):not(.error):hover::before {
    left: 125%; /* Двигаем блик направо */
    opacity: 1; /* Показываем */
    transition: left 0.6s cubic-bezier(0.23, 1, 0.32, 1),
                opacity 0.2s ease-in-out;
}

/* === Active State === */
.app-button:not(:disabled):not(.saving):not(.saved):not(.error):active,
button:not(:disabled):not(.saving):not(.saved):not(.error):active {
    background-color: rgba(255, 255, 255, 0.1);
    -webkit-backdrop-filter: blur(3px);
    backdrop-filter: blur(3px);
    transform: translateY(0px); /* Возвращаем на место */
    box-shadow: inset 0 1px 4px rgba(0,0,0,0.4);
    border-color: rgba(255, 255, 255, 0.15);
}
/* Мгновенно скрываем блик при нажатии */
.app-button:not(:disabled):not(.saving):not(.saved):not(.error):active::before,
button:not(:disabled):not(.saving):not(.saved):not(.error):active::before {
    opacity: 0;
    transition: none;
}

/* === Стили для особых типов кнопок === */
/* Кнопка Tertiary (без glass/блика) */
.app-button.tertiary {
    background-color: transparent;
    border-color: var(--color-secondary-light);
    color: var(--color-secondary-light);
    box-shadow: none;
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
}
.app-button.tertiary::before {
    content: none; /* Убираем блик */
}
.app-button.tertiary:hover {
    background-color: var(--color-secondary-base);
    color: var(--color-text-on-accent);
    border-color: var(--color-secondary-base);
    box-shadow: var(--glow-secondary), 0 0 15px rgba(var(--rgb-secondary),0.3) inset;
    transform: translateY(-2px) scale(1.02);
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
}

/* --- Button States (Saving, Saved, Error, Disabled) --- */
/* Важно: Убеждаемся, что эти состояния ПЕРЕОПРЕДЕЛЯЮТ glassmorphism и блик */
/* Состояния Saving и Disabled */
.app-button.saving, button.saving,
.app-button:disabled:not(.winner-btn), button:disabled:not(.winner-btn) {
    background-color: var(--color-text-muted) !important;
    border-color: var(--color-text-muted) !important;
    border-width: 1px !important;
    color: var(--color-surface) !important;
    cursor: wait !important;
    opacity: 0.7;
    transform: none !important;
    box-shadow: var(--shadow-inset) !important;
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
}
/* Состояние Saved */
.app-button.saved, button.saved {
    background-color: var(--color-success) !important;
    border-color: var(--color-success-dark) !important;
    border-width: 1px !important;
    color: var(--color-text-on-primary) !important;
    box-shadow: var(--glow-success) !important; /* Оставляем базовое свечение как основу */
    /* transform: none !important; */ /* УБРАНО или ЗАКОММЕНТИРОВАНО, чтобы разрешить анимацию transform */
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
    opacity: 1; /* Убедимся, что непрозрачность установлена на 1 */
    /* Применяем анимацию */
    animation: savedPulse 0.6s ease-out forwards; /* Длительность 0.6s, запускается один раз */
}
/* Состояние Error */
.app-button.error, button.error {
    background-color: var(--color-error) !important;
    border-color: var(--color-error-dark) !important;
    border-width: 1px !important;
    color: var(--color-text-on-accent) !important;
    box-shadow: var(--glow-error) !important;
    transform: none !important;
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
}
/* Гарантированно убираем блик (псевдоэлемент ::before) для этих состояний */
.app-button.saving::before, button.saving::before,
.app-button:disabled:not(.winner-btn)::before, button:disabled:not(.winner-btn)::before,
.app-button.saved::before, button.saved::before,
.app-button.error::before, button.error::before {
    content: none !important;
}

/* === Danger button (e.g., Hide) === */
.app-button.danger, button.danger {
    background-color: var(--color-error) !important;
    border-color: var(--color-error-dark) !important;
    color: var(--color-text-on-accent) !important;
    box-shadow: var(--glow-error) !important;
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
}
.app-button.danger::before, button.danger::before { content: none !important; }
.app-button.danger:not(:disabled):hover,
button.danger:not(:disabled):hover {
    background-color: var(--color-error-dark) !important;
    border-color: var(--color-error-dark) !important;
    color: var(--color-text-on-accent) !important;
}
.app-button.danger:active,
button.danger:active {
    box-shadow: inset 0 2px 6px rgba(0,0,0,0.4) !important;
}

/* --- Winner Buttons --- */
/* Оставляем их стиль без изменений, убираем блик */
.winner-btn::before {
    content: none;
}
/* Стили для .winner-btn определены ниже и не будут затронуты общими правилами hover */


/* Хедер */
.site-header {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-md);
    align-items: center;
    padding: var(--spacing-md) var(--spacing-lg);
    background: linear-gradient(145deg, var(--color-surface), var(--color-surface-secondary));
    border-bottom: 2px solid var(--color-primary-dark);
}
.header-group {
    display: flex;
    flex-wrap: nowrap;
    gap: var(--spacing-sm);
    align-items: center;
    flex-grow: 1;
}
.header-group .header-icon {
    color: var(--color-primary-light);
    font-size: 1.2rem;
}
.header-group label {
    margin-bottom: 0;
    margin-right: var(--spacing-xs);
    white-space: nowrap;
}
.header-group .header-input {
    min-width: 180px;
}
.tournament-dates {
    flex-grow: 1.5;
    gap: var(--spacing-md);
}
.date-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}
.date-input {
    width: auto;
    min-width: 150px;
    color-scheme: dark;
}
.tournament-day {
    font-weight: var(--font-weight-semibold);
    color: var(--color-secondary-light);
    margin-left: var(--spacing-sm);
    font-size: 1rem;
    white-space: nowrap;
    padding: var(--spacing-sm);
    background-color: var(--color-surface-secondary);
    border-radius: var(--border-radius-sm);
    border: 1px solid var(--color-border);
}
#saveHeaderButton {
    flex-grow: 0;
    white-space: nowrap;
    margin-left: auto;
}


/* Заголовок страницы и ссылка на команды */
.page-title-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: var(--spacing-xl) 0;
    padding-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--color-divider);
}
.page-title-container h1 {
    margin-bottom: 0;
    font-size: 1.8rem;
}
.page-title-container h1 i {
    margin-right: var(--spacing-sm);
    color: var(--color-primary-base);
}
.teams-link {
    font-size: 0.9rem;
    padding: var(--spacing-sm) var(--spacing-md);
}

/* Вкладки */
.tabs-wrapper {
    margin-top: var(--spacing-lg);
}
.tabs-nav {
    list-style: none;
    padding: 0;
    margin: 0 0 0 var(--spacing-md);
    display: flex;
    position: relative;
    z-index: 1;
}
.tabs-nav .tab-link {
    padding: var(--spacing-md) var(--spacing-lg);
    cursor: pointer;
    color: var(--color-text-secondary);
    border: 1px solid var(--color-border);
    border-bottom: none;
    border-radius: var(--border-radius-md) var(--border-radius-md) 0 0;
    margin-right: var(--spacing-xs);
    background-color: var(--color-surface-secondary);
    transition: var(--transition-base);
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
    font-size: 0.95rem;
    letter-spacing: 0.04em;
    position: relative;
    bottom: -1px;
    display: flex;
    align-items: center;
}
.tabs-nav .tab-link i {
    margin-right: var(--spacing-sm);
    transition: var(--transition-fast);
}
.tabs-nav .tab-link:hover {
    color: var(--color-text-primary);
    background-color: var(--color-surface);
}
.tabs-nav .tab-link:hover i {
    color: var(--color-primary-light);
    transform: scale(1.1);
}
.tabs-nav .tab-link.active {
    color: var(--color-primary-light);
    background-color: var(--color-surface);
    border-color: var(--color-border);
    border-bottom-color: var(--color-surface);
    font-weight: var(--font-weight-semibold);
    box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
}
.tabs-nav .tab-link.active i {
    color: var(--color-primary-base);
}
.tabs-content {
    /* background-color: var(--color-surface); -> Inherits from .card-style if tab-panel has it */
    /* border: 1px solid var(--color-border); -> Inherits from .card-style */
    padding: var(--spacing-lg); /* Padding for content inside the bordered box */
    border-radius: 0 var(--border-radius-lg) var(--border-radius-lg) var(--border-radius-lg);
    /* Ensure this is applied correctly if .tab-panel itself isn't .card-style */
}
.tab-panel {
    display: none;
    animation: fadeIn 0.5s ease-out forwards;
}
.tab-panel.active {
    display: block;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Сетка матчей */
.matches-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
    gap: var(--spacing-lg);
}
.match-column {
    background-color: var(--color-surface-secondary);
    border-radius: var(--border-radius-lg);
    /* overflow: hidden; */ /* УБРАНО - для Select2 dropdown */
    display: flex;
    flex-direction: column;
    border: 1px solid var(--color-border);
    transition: var(--transition-base);
    box-shadow: var(--shadow-sm);
    /* position: relative; */ /* Может понадобиться, если будут проблемы с позиционированием Select2 */
}
.match-column:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
    border-color: var(--color-primary-base);
}

.match-column.status-upcom { border-left: 5px solid var(--color-status-upcom-border); }
.match-column.status-live { border-left: 5px solid var(--color-status-live-border); }
.match-column.status-finished { border-left: 5px solid var(--color-status-finished-border); }


.match-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-sm) var(--spacing-md);
    border-bottom: 1px solid var(--color-divider);
    background: linear-gradient(rgba(var(--rgb-primary),0.05), rgba(var(--rgb-primary),0));
}
.match-header h2 {
    margin-bottom: 0;
    font-size: 1.2rem;
    color: var(--color-text-primary);
    font-weight: var(--font-weight-semibold);
}
.match-meta { display: flex; gap: var(--spacing-sm); align-items: center; }
.match-header .status-select {
    width: auto;
    min-width: 120px;
    font-size: 0.8rem;
    font-weight: var(--font-weight-semibold);
    padding: var(--spacing-xs) var(--spacing-sm);
    text-align: center;
    text-align-last: center; /* For select alignment */
}
.match-header .time-input {
    width: 75px;
    text-align: center;
    font-size: 0.85rem;
    padding: var(--spacing-xs) var(--spacing-sm);
}

/* Status Select Colors */
.status-select option[value="UPCOM"] { background-color: var(--color-status-upcom-bg); color: var(--color-status-upcom-text); }
.status-select option[value="LIVE"] { background-color: var(--color-status-live-bg); color: var(--color-status-live-text); }
.status-select option[value="FINISHED"] { background-color: var(--color-status-finished-bg); color: var(--color-status-finished-text); }

/* JS should add these classes to the select itself based on its value */
.status-select.status-upcom-selected { background-color: var(--color-status-upcom-bg) !important; color: var(--color-status-upcom-text) !important; border-color: var(--color-status-upcom-border) !important; box-shadow: var(--glow-status-upcom) !important; }
.status-select.status-live-selected { background-color: var(--color-status-live-bg) !important; color: var(--color-status-live-text) !important; border-color: var(--color-status-live-border) !important; box-shadow: var(--glow-status-live) !important; }
.status-select.status-finished-selected { background-color: var(--color-status-finished-bg) !important; color: var(--color-status-finished-text) !important; border-color: var(--color-status-finished-border) !important; box-shadow: var(--glow-status-finished) !important; }


.match-body { padding: var(--spacing-md); flex-grow: 1; display: flex; flex-direction: column; gap: var(--spacing-md); }

.match-teams {
    /* display: flex; */ /* Убрать flex */
    display: grid; /* Использовать Grid */
    grid-template-columns: 1fr auto 1fr; /* Колонка для T1, для VS, для T2 */
    gap: var(--spacing-sm); /* Оставить или заменить на grid-column-gap */
    align-items: stretch; /* Выравнивание по высоте */
    /* justify-content: space-between; */ /* Не нужно для Grid */
}
.team-block {
    /* flex: 1 1 auto; */ /* Убрать flex свойства */
    min-width: 0; /* << ВАЖНО: Разрешить Grid сжимать блок */
    /* Остальные стили .team-block остаются */
    display: flex; /* Можно оставить flex внутри блока, если нужно */
    flex-direction: column;
    padding: var(--spacing-sm);
    border-radius: var(--border-radius-md);
    border: 1px solid var(--color-border);
    position: relative;
    /* overflow: hidden; */ /* Убрать, если пробовали */
}

/* Team Logo above Select */
.team-info-header {
    display: flex;
    align-items: center;
    margin-bottom: var(--spacing-xs);
}
.team-logo {
    width: 24px;
    height: 24px;
    margin-right: var(--spacing-sm);
    object-fit: contain;
    border-radius: var(--border-radius-sm);
    background-color: rgba(var(--rgb-primary), 0.05);
    border: 1px solid var(--color-border);
    flex-shrink: 0;
}
.team-block label { /* Assuming label is part of team-info-header */
    margin-bottom: 0;
    flex-grow: 1;
}
.team-block .team-select { /* The Select2 element */
    width: 100%;
    margin-top: auto; /* Pushes select to bottom if team-block is flex-column and has space */
}

/* Team Block Specific Styles */
.team-1-block {
    border-color: var(--team1-color-accent);
    background-color: var(--team1-color-bg);
}
.team-1-block:hover {
    border-color: var(--team1-color-accent); /* Or a slightly brighter version */
    background-color: rgba(var(--team1-color-rgb), 0.25);
}
.team-2-block {
    border-color: var(--team2-color-accent);
    background-color: var(--team2-color-bg);
}
.team-2-block:hover {
    border-color: var(--team2-color-accent); /* Or a slightly brighter version */
    background-color: rgba(var(--team2-color-rgb), 0.25);
}

.vs-indicator {
    /* align-self: center; */ /* Убрать flex свойства */
    /* Можно добавить grid-row/column или align-self/justify-self для позиционирования */
    align-self: center; /* Попробовать выровнять по центру вертикально в Grid */
    /* Остальные стили .vs-indicator остаются */
    font-weight: var(--font-weight-bold);
    /* ... */
    flex-shrink: 0; /* Убрать */
}

.winner-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-sm);
}
.winner-btn {
    background-color: var(--color-surface-tertiary);
    border: 1px solid var(--color-border);
    color: var(--color-text-secondary);
    padding: var(--spacing-sm);
    font-size: 0.85rem;
    border-radius: var(--border-radius-md);
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    box-shadow: none; /* Override general button shadow if .app-button is also applied */
    transition: var(--transition-fast);
    min-width: auto; /* Override general button min-width */
    text-transform: none; /* Override general button text-transform */
    /* Ensure no ::before from general button styles */
    /* content: none !important; */ /* Already handled by .winner-btn::before below */
}
.winner-btn::before {
    content: none; /* Disable glare for winner buttons */
}

/* Winner Button Styles */
.winner-btn.team-1-accent-border {
    border-left: 4px solid var(--team1-color-accent);
    color: var(--team1-color-accent);
}
.winner-btn.team-1-accent-border:hover {
    background-color: var(--team1-color-bg);
    box-shadow: var(--team1-glow);
    /* Keep specific hover, no glass */
    transform: none;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}
.winner-btn.team-1-accent-border.winner-selected {
    background-color: var(--team1-color-accent);
    color: var(--team1-color-text-on-accent);
    box-shadow: var(--team1-glow);
    font-weight: var(--font-weight-bold);
}
.winner-btn.team-2-accent-border {
    border-left: 4px solid var(--team2-color-accent);
    color: var(--team2-color-accent);
}
.winner-btn.team-2-accent-border:hover {
    background-color: var(--team2-color-bg);
    box-shadow: var(--team2-glow);
    /* Keep specific hover, no glass */
    transform: none;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}
.winner-btn.team-2-accent-border.winner-selected {
    background-color: var(--team2-color-accent);
    color: var(--team2-color-text-on-accent);
    box-shadow: var(--team2-glow);
    font-weight: var(--font-weight-bold);
}

.maps { border-top: 1px solid var(--color-divider); padding-top: var(--spacing-md); }
.maps h3 { font-size: 0.9rem; margin-bottom: var(--spacing-sm); color: var(--color-text-secondary); font-weight: var(--font-weight-semibold); text-transform: uppercase; letter-spacing: 0.03em;}
.maps h3 i { margin-right: var(--spacing-xs); color: var(--color-secondary-base); }
.map-row { display: flex; gap: var(--spacing-sm); margin-bottom: var(--spacing-sm); align-items: center; }
.map-row:last-child { margin-bottom: 0; }
.map-name-select { flex-grow: 1; font-size: 0.9rem; padding: var(--spacing-xs) var(--spacing-sm); }
.map-score-input { width: 80px; text-align: center; font-size: 0.9rem; padding: var(--spacing-xs) var(--spacing-sm); }

.vrs-block-wrapper { border-top: 1px solid var(--color-divider); padding-top: var(--spacing-md); }
.vrs-block-wrapper h3 { font-size: 0.9rem; margin-bottom: var(--spacing-sm); color: var(--color-text-secondary); font-weight: var(--font-weight-semibold); text-transform: uppercase; letter-spacing: 0.03em; }
.vrs-block-wrapper h3 i { margin-right: var(--spacing-xs); color: var(--color-primary-base); }
.vrs-table { width: 100%; border-collapse: separate; border-spacing: 0; font-size: 0.85rem; }
.vrs-table th, .vrs-table td { border: 1px solid var(--color-border); padding: var(--spacing-sm); text-align: center; color: var(--color-text-secondary); background-color: transparent; }
.vrs-table th { background-color: var(--color-surface); font-weight: var(--font-weight-semibold); color: var(--color-text-primary); }
.vrs-table td:first-child { font-weight: var(--font-weight-semibold); text-align: left; }
/* VRS Table Team Colors */
.vrs-table tr.team-1-row td:first-child {
    background-color: var(--team1-color-bg);
    color: var(--team1-color-accent);
    border-left: 4px solid var(--team1-color-accent);
}
.vrs-table tr.team-2-row td:first-child {
    background-color: var(--team2-color-bg);
    color: var(--team2-color-accent);
    border-left: 4px solid var(--team2-color-accent);
}
.vrs-table tr:hover td { background-color: rgba(var(--rgb-primary), 0.05); }
.vrs-input { width: 100%; padding: var(--spacing-xs); font-size: 0.85rem; text-align: center; } /* Assuming this is for inputs inside table cells */


.match-footer {
    padding: var(--spacing-md);
    border-top: 1px solid var(--color-divider);
    background-color: var(--color-surface); /* Or secondary for slight differentiation */
}
.save-match-button { width: 100%; }


/* Map Veto Tab */
.map-veto-block { margin-top: 0; padding: 0; } /* If it's inside a .tab-panel that has .card-style */
.map-veto-header { display: flex; align-items: center; gap: var(--spacing-sm); margin-bottom: var(--spacing-lg); background-color: var(--color-surface-secondary); padding: var(--spacing-md); border-radius: var(--border-radius-md); }
.map-veto-header label { margin-bottom: 0; font-weight: var(--font-weight-normal); color: var(--color-text-primary); }
.map-veto-header label i { color: var(--color-primary-light); }
#matchSelect { min-width: 220px; width: auto; flex-grow: 1; max-width: 350px; } /* Assuming Select2 is used here */

.table-wrapper { overflow-x: auto; border: 1px solid var(--color-divider); border-radius: var(--border-radius-lg); background-color: var(--color-surface-secondary); box-shadow: var(--shadow-neumorphic-inset); }
#vetoTable { width: 100%; border-collapse: separate; border-spacing:0; font-size: 0.9rem; min-width: 600px; }

#vetoTable th {
    background-color: var(--color-surface);
    font-weight: var(--font-weight-semibold);
    color: var(--color-mapveto-th-text);
    text-transform: uppercase;
    letter-spacing: 0.04em;
}
#vetoTable td {
    color: var(--color-mapveto-td-text);
}

#vetoTable th, #vetoTable td {
    border-bottom: 1px solid var(--color-divider);
    border-right: 1px solid var(--color-divider);
    padding: var(--spacing-md);
    text-align: center;
    white-space: nowrap;
}
#vetoTable th:last-child, #vetoTable td:last-child { border-right: none; }
#vetoTable tr:last-child td { border-bottom: none; }

#vetoTable th i {
    margin-right: var(--spacing-xs);
    color: var(--color-mapveto-th-icon);
}

/* Map Veto Team Headers */
#vetoTable th.team-1-text-accent {
    color: var(--team1-color-accent);
    text-shadow: var(--team1-text-shadow);
}
#vetoTable th.team-2-text-accent {
    color: var(--team2-color-accent);
    text-shadow: var(--team2-text-shadow);
}

#vetoTable select { font-weight: var(--font-weight-medium); } /* Default for selects in table */

/* Map Veto Select Styles (JS should add these classes) */
#vetoTable select.veto-action.action-is-ban {
    background-color: var(--color-veto-ban-bg) !important;
    color: var(--color-veto-ban-text) !important;
    border-color: var(--color-veto-ban-border) !important;
    box-shadow: var(--glow-veto-ban);
}
#vetoTable select.veto-action.action-is-pick {
    background-color: var(--color-veto-pick-bg) !important;
    color: var(--color-veto-pick-text) !important;
    border-color: var(--color-veto-pick-border) !important;
    box-shadow: var(--glow-veto-pick);
}
#vetoTable select.veto-action.action-is-decider {
    background-color: var(--color-veto-decider-bg) !important;
    color: var(--color-veto-decider-text) !important;
    border-color: var(--color-veto-decider-border) !important;
    box-shadow: var(--glow-veto-decider);
}

#vetoTable select.veto-side.side-is-ct {
    background-color: var(--color-veto-side-ct-bg) !important;
    color: var(--color-veto-side-ct-text) !important;
    border-color: var(--color-veto-side-ct-border) !important;
}
#vetoTable select.veto-side.side-is-t {
    background-color: var(--color-veto-side-t-bg) !important;
    color: var(--color-veto-side-t-text) !important;
    border-color: var(--color-veto-side-t-border) !important;
}

/* Map Veto Team Selects (JS should add these classes) */
#vetoTable .veto-team.team-1-selected-veto { /* Assuming .veto-team is a select */
    border-color: var(--team1-color-accent) !important;
    background-color: var(--team1-color-bg) !important;
    color: var(--team1-color-accent) !important;
    /* Add box-shadow or glow if desired */
}
#vetoTable .veto-team.team-2-selected-veto { /* Assuming .veto-team is a select */
    border-color: var(--team2-color-accent) !important;
    background-color: var(--team2-color-bg) !important;
    color: var(--team2-color-accent) !important;
    /* Add box-shadow or glow if desired */
}
#saveMapVetoButton { display: block; margin: var(--spacing-lg) auto 0; min-width: 200px; }

#vetoTable select.veto-action:hover {
    outline: 2px solid var(--color-primary-light);
    outline-offset: 1px; /* Небольшой отступ, чтобы обводка не накладывалась на границу элемента */
    cursor: pointer; /* Указываем, что элемент интерактивен */
}

/* Обводка для селектов команд, ТОЛЬКО ЕСЛИ команда уже выбрана (т.е. применен класс .team-X-selected-veto) */
#vetoTable select.veto-team.team-1-selected-veto:hover,
#vetoTable select.veto-team.team-2-selected-veto:hover {
    outline: 2px solid var(--color-primary-light);
    outline-offset: 1px;
    cursor: pointer;
}
/* === КОНЕЦ НОВЫХ СТИЛЕЙ === */


#saveMapVetoButton { display: block; margin: var(--spacing-lg) auto 0; min-width: 200px; }


/* Pause Tab */
.pause-section { margin-top: 0; border-top: none; } /* If it's inside a .tab-panel that has .card-style */
.pause-controls-standalone { display: flex; flex-direction: column; gap: var(--spacing-lg); background-color: var(--color-surface-secondary); padding: var(--spacing-lg); border-radius: var(--border-radius-lg); }
.pause-fields-grid { display: grid; grid-template-columns: 1fr; gap: var(--spacing-md); }
@media (min-width: 600px) { .pause-fields-grid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); align-items: flex-end; } }
.form-group { display: flex; flex-direction: column; } /* Common form group styling */
.pause-controls-standalone .app-button { align-self: flex-start; margin-top: var(--spacing-sm); }


/* JSON Output Tab */
.json-output-container { margin-top: 0; padding: 0; } /* If it's inside a .tab-panel that has .card-style */
.json-output {
    background: var(--color-surface-tertiary);
    color: #b0c4de; /* A typical color for JSON text */
    padding: var(--spacing-lg);
    border-radius: var(--border-radius-lg);
    white-space: pre-wrap;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
    font-size: 0.9rem;
    border: 1px solid var(--color-border);
    max-height: calc(100vh - 350px); /* Adjust based on surrounding layout */
    overflow-y: auto;
    box-shadow: var(--shadow-neumorphic-inset);
    line-height: 1.6;
}

/* Styled Scrollbar (for elements with overflow) */
/* Add class .styled-scrollbar to elements like .json-output, .select2-results__options */
.styled-scrollbar::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}
.styled-scrollbar::-webkit-scrollbar-track {
    background: var(--color-surface-secondary);
    border-radius: var(--border-radius-sm);
}
.styled-scrollbar::-webkit-scrollbar-thumb {
    background: var(--color-primary-base);
    border-radius: var(--border-radius-sm);
    border: 2px solid var(--color-surface-secondary); /* Creates a nice padding effect */
}
.styled-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary-light);
}

/* Casters Tab Specific Styles */
.casters-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
}

.caster-selection-block,
.caster-creation-block,
.casters-list-block {
    padding: var(--spacing-lg);
    background-color: var(--color-surface-secondary);
    border-radius: var(--border-radius-lg);
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-sm);
}

.caster-selection-block h3,
.caster-creation-block h3,
.casters-list-block h3 {
    font-size: 1.1rem;
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-md);
    padding-bottom: var(--spacing-sm);
    border-bottom: 1px solid var(--color-divider);
    display: flex;
    align-items: center;
}

.caster-selection-block h3 i,
.caster-creation-block h3 i,
.casters-list-block h3 i {
    margin-right: var(--spacing-sm);
    color: var(--color-secondary-light);
    font-size: 1em; /* Relative to h3 font-size */
}

.caster-selection-block .form-group, /* Assuming .form-group is used */
.caster-creation-block .form-group {
    margin-bottom: var(--spacing-md);
}

.caster-selection-block .app-button,
.caster-creation-block .app-button {
    margin-top: var(--spacing-md);
    width: 100%;
}

#castersListContainer ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

#castersListContainer li {
    padding: var(--spacing-sm) var(--spacing-xs);
    border-bottom: 1px solid var(--color-divider);
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-sm);
    transition: background-color var(--transition-fast);
}
#castersListContainer li:hover {
    background-color: rgba(var(--rgb-primary), 0.05);
}
#castersListContainer li:last-child {
    border-bottom: none;
}

#castersListContainer .caster-details {
    flex-grow: 1;
    display: flex;
    align-items: center; /* For view mode, baseline might be better */
    gap: var(--spacing-sm);
    min-width: 0; /* Prevent overflow issues with flex children */
}

#castersListContainer li:not(.editing) .caster-details {
    align-items: baseline; /* Align text nicely when not editing */
}

#castersListContainer .caster-name {
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 150px; /* Adjust as needed */
}

#castersListContainer .caster-social {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    word-break: break-all; /* Allow long URLs to wrap */
    flex-shrink: 1; /* Allow social to shrink if name is long */
    min-width: 50px; /* Ensure it doesn't collapse too much */
}

#castersListContainer .caster-actions {
    display: flex;
    align-items: center;
    flex-shrink: 0; /* Prevent actions from wrapping */
}
#castersListContainer .caster-actions button {
    margin-left: var(--spacing-sm);
    padding: var(--spacing-xs) var(--spacing-sm); /* Smaller buttons */
    font-size: 0.8rem;
    min-width: auto; /* Override app-button default */
    border-width: 1px; /* Ensure consistent border */
    box-shadow: none; /* Typically no big shadow for small action buttons */
}
#castersListContainer .caster-actions button i {
    margin-right: 0; /* Icons only, no text */
}


/* Editing state for caster item */
#castersListContainer li.editing {
    background-color: rgba(var(--rgb-primary), 0.1);
    /* align-items: flex-start; If inputs make it too tall */
}
#castersListContainer li.editing .caster-details {
    gap: var(--spacing-sm); /* Or adjust as needed for inputs */
}

#castersListContainer li .caster-details .edit-input { /* General class for editing inputs */
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: 0.9em; /* Slightly smaller than main inputs if needed */
    flex-grow: 1;
}
#castersListContainer li .caster-details .caster-name-input {
    /* Specific width for name input if needed, or rely on flex-grow */
   flex-grow: 0; /* Don't grow excessively */
   flex-basis: 150px; /* Match .caster-name max-width */
   min-width: 100px;
}
#castersListContainer li .caster-details .caster-social-input {
    flex-grow: 1;
    min-width: 100px;
}


/* Specific styles for action buttons in caster list, ensuring they override .app-button hover if needed */
#castersListContainer .caster-actions .save-caster-btn {
    background-color: var(--color-success);
    border-color: var(--color-success-dark);
    color: var(--color-text-on-accent);
}
#castersListContainer .caster-actions .save-caster-btn:hover {
    background-color: var(--color-success-dark) !important; /* Ensure override */
}
#castersListContainer .caster-actions .cancel-caster-btn {
    background-color: transparent;
    border-color: var(--color-text-muted);
    color: var(--color-text-muted);
}
#castersListContainer .caster-actions .cancel-caster-btn:hover {
    background-color: var(--color-text-muted) !important; /* Ensure override */
    color: var(--color-surface) !important;
    border-color: var(--color-text-muted) !important;
}
#castersListContainer .caster-actions .edit-caster-btn {
    background-color: transparent;
    border-color: var(--color-secondary-light);
    color: var(--color-secondary-light);
}
#castersListContainer .caster-actions .edit-caster-btn:hover {
    background-color: var(--color-secondary-base) !important; /* Ensure override */
    color: var(--color-text-on-accent) !important;
    border-color: var(--color-secondary-base) !important;
}
#castersListContainer .caster-actions .delete-caster-btn {
    background-color: transparent;
    border-color: var(--color-error);
    color: var(--color-error);
}
#castersListContainer .caster-actions .delete-caster-btn:hover {
    background-color: var(--color-error) !important; /* Ensure override */
    color: var(--color-text-on-accent) !important;
    border-color: var(--color-error-dark) !important;
}


/* == Select2 Integration Styles == */
/* Apply to .team-select, #matchSelect etc. via JS: $(selector).select2({ theme: "default" }); */

/* Container and Single Selection Field */
.select2-container {
    width: 100%;
    max-width: 100%;
    /* ... */
}
.select2-container .select2-selection--single {
    background-color: var(--color-surface-tertiary);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    height: auto; /* Adjust height to content + padding */
    /* Match padding of .header-input but adjust right for arrow */
    padding: var(--spacing-sm) calc(var(--spacing-sm) + 20px + var(--spacing-xs)) var(--spacing-sm) var(--spacing-md);
    box-shadow: var(--shadow-inset);
    transition: var(--transition-base);
    outline: none;
    display: flex; /* To align items like logo and text */
    align-items: center;
}
.select2-container--default.select2-container--focus .select2-selection--single, /* Typo in original was --focus */
.select2-container--default.select2-container--open .select2-selection--single {
    border-color: var(--color-primary-light);
    box-shadow: 0 0 0 3px rgba(var(--rgb-primary), 0.3), var(--shadow-inset);
}

/* Rendered Selection (Text and Logo) */
.select2-container .select2-selection--single .select2-selection__rendered {
    color: var(--color-text-primary);
    line-height: normal; /* Override user-agent */
    padding-left: 0; /* Reset default padding */
    padding-right: 0; /* Reset default padding */
    display: flex; /* For logo + text */
    align-items: center;
    width: 100%;
    overflow: hidden; /* For text-overflow */
}
.select2-container--default .select2-selection--single .select2-selection__placeholder {
    color: var(--color-text-placeholder);
    display: flex; /* Align placeholder potentially with an icon if you add one */
    align-items: center;
}

/* Arrow */
.select2-container--default .select2-selection--single .select2-selection__arrow {
    height: 100%; /* Fill the height of the selection box */
    position: absolute;
    top: 0;
    right: var(--spacing-sm); /* Consistent spacing */
    width: 20px; /* Standard arrow width */
    display: flex;
    align-items: center;
    justify-content: center;
}
.select2-container--default .select2-selection--single .select2-selection__arrow b {
    border-color: var(--color-text-muted) transparent transparent transparent;
    border-style: solid;
    border-width: 5px 4px 0 4px; /* Standard arrow size */
    height: 0;
    left: 50%; /* Center arrow */
    margin-left: -4px; /* Adjust for border-width */
    margin-top: -2px;  /* Adjust for border-width */
    position: absolute;
    top: 50%; /* Center arrow */
    width: 0;
    transition: var(--transition-fast);
}
.select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b {
    border-color: transparent transparent var(--color-text-muted) transparent; /* Point up */
    border-width: 0 4px 5px 4px;
}

/* Clear Button (X) - Usually hidden if allowClear: false in JS */
.select2-container--default .select2-selection--single .select2-selection__clear {
    display: none; /* Hide it explicitly just in case */
    /* Or style if you use allowClear: true */
}

/* Dropdown */
.select2-dropdown { /* This class is on the wrapper around the search and results */
    background-color: var(--color-surface-secondary);
    border: 1px solid var(--color-border-light); /* Slightly lighter border for dropdown */
    border-radius: var(--border-radius-md);
    box-shadow: var(--shadow-md);
    overflow: hidden; /* Ensures children conform to border-radius */
    z-index: 99999 !important; /* Ensure high z-index; often needed */
    /* width: auto; -> Select2 usually handles this well. Max/min can be set. */
    /* min-width: 350px;  Adjust minimum width if needed, or use 'auto' based on content */
    /* margin-left: -15px; -> This kind of manual offset can be problematic. Avoid if possible. */
    /* Select2 tries to match the width of the input by default. Use dropdownParent for portal. */
}
/* When dropdown is below the select */
.select2-container--default.select2-container--open .select2-dropdown--below {
    border-top: none; /* Avoid double border if it aligns perfectly */
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}
/* When dropdown is above the select */
.select2-container--default.select2-container--open .select2-dropdown--above {
    border-bottom: none;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

/* Search Field inside Dropdown */
.select2-search--dropdown {
    padding: var(--spacing-sm);
    background-color: var(--color-surface); /* Slightly different from results for visual hierarchy */
}
.select2-search--dropdown .select2-search__field {
    background-color: var(--color-surface-tertiary);
    border: 1px solid var(--color-border);
    color: var(--color-text-primary);
    border-radius: var(--border-radius-sm); /* Smaller radius for inner elements */
    padding: var(--spacing-sm);
    width: 100%;
    outline: none;
    font-family: var(--font-family-base);
    font-size: inherit; /* Inherit from .select2-container */
}
.select2-search--dropdown .select2-search__field:focus {
    border-color: var(--color-primary-light);
    box-shadow: 0 0 0 3px rgba(var(--rgb-primary), 0.3);
}

/* Results List */
.select2-results__options { /* This is the ul element */
    list-style: none;
    margin: 0;
    padding: 0;
    max-height: 250px; /* Control dropdown height */
    overflow-y: auto;
    /* Add .styled-scrollbar here if you want custom scrollbars for the results */
}

/* Individual Result Option (li element) */
.select2-results__option {
    padding: var(--spacing-sm) var(--spacing-md);
    transition: background-color var(--transition-fast);
    cursor: pointer;
    display: flex; /* For logo + text alignment */
    align-items: center;
    color: var(--color-text-secondary); /* Default text color for options */
}
.select2-results__option--highlighted[aria-selected] { /* Hover/keyboard focus state */
    background-color: var(--color-primary-base);
    color: var(--color-text-on-primary); /* Text on highlighted background */
}
/* Ensure text within highlighted option (like team name) also changes color */
.select2-results__option--highlighted[aria-selected] .select2-team-name,
.select2-results__option--highlighted[aria-selected] { /* Catch all text within */
    color: var(--color-text-on-primary) !important; /* Use !important if specificity is an issue */
}
.select2-results__option[aria-selected=true] { /* For the currently selected item in the dropdown */
    background-color: var(--color-surface); /* Or a slightly different shade */
    /* color: var(--color-primary-light); */ /* If you want to highlight the selected one differently */
}
.select2-results__option[aria-disabled=true] {
    color: var(--color-text-muted);
    cursor: not-allowed;
    opacity: 0.6;
}

/* Loading Indicator */
.select2-results__option--loading {
    display: block; /* Center text */
    text-align: center;
    color: var(--color-text-muted);
    padding: var(--spacing-sm);
}

/* No Results Message */
.select2-results__message {
    color: var(--color-text-muted);
    padding: var(--spacing-sm) var(--spacing-md);
}

/* Team Logo and Name Styles within Select2 (Custom templating) */
.select2-team-option, .select2-team-selection { /* Wrapper for logo + name */
    display: flex;
    align-items: center;
    width: 100%;
    overflow: hidden; /* Ensure it fits */
}

.select2-team-logo, .select2-team-logo-selected { /* For logo in dropdown option and selected view */
    width: 20px;   /* Adjust size as needed */
    height: 20px;
    margin-right: 8px; /* Space between logo and name */
    border-radius: 4px; /* Or var(--border-radius-sm) */
    object-fit: contain; /* Ensure logo scales nicely */
    background-color: rgba(255,255,255,0.1); /* Placeholder bg if image fails */
    flex-shrink: 0; /* Prevent logo from shrinking */
    vertical-align: middle; /* Align with text */
}
.select2-team-logo-selected { /* Slightly smaller if needed for selected view */
    width: 18px;
    height: 18px;
    margin-right: 6px;
}

.select2-team-name, .select2-team-name-selected {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex-grow: 1; /* Allow name to take remaining space */
    vertical-align: middle;
    color: inherit; /* Inherit color from parent (.select2-selection__rendered or .select2-results__option) */
}
/* Specific color for team name in dropdown options if not covered by general option color */
.select2-results__option .select2-team-name {
    color: var(--color-text-primary); /* Or inherit if .select2-results__option handles it */
}

/* Hide original select when Select2 is active */
select.team-select.select2-hidden-accessible, /* Add all relevant original select classes */
select.control-select.select2-hidden-accessible,
select#matchSelect.select2-hidden-accessible /* If #matchSelect is a select */
{
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    background-image: none !important; /* Remove native arrow if any */
    position: absolute !important;
    overflow: hidden !important;
    clip: rect(0 0 0 0) !important;
    height: 1px !important;
    width: 1px !important;
    margin: -1px !important;
    padding: 0 !important;
    border: 0 !important;
}
/* == End Select2 Integration Styles == */


/* Адаптивность */
@media (max-width: 1400px) {
    .matches-grid { grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); }
    .site-header { gap: var(--spacing-sm); }
}

@media (max-width: 1200px) {
    .container { padding: var(--spacing-md); }
    .site-header { flex-direction: column; align-items: stretch; }
    .header-group { flex-direction: column; align-items: stretch; width: 100%; gap: var(--spacing-sm); }
    .header-group .header-input, .header-group .date-input { width: 100%; } /* Ensure full width */
    #saveHeaderButton { width: 100%; margin-top: var(--spacing-md); margin-left: 0; } /* Reset margin-left */
    .tournament-day { text-align: left; padding: var(--spacing-sm); margin-left: 0; width: 100%; }

    /* Pause Tab adjustments for consistency */
    .pause-section { /* Assuming .pause-section is the main container in this tab */
        /* flex-direction: column; align-items: stretch; /* This was in original, might be for a specific layout not visible here */
    }
    .pause-fields-grid { /* If this is the direct child for fields */
        /* flex-direction: column; align-items: stretch; width: 100%; gap: var(--spacing-sm); /* Original style, might be too aggressive if it's already inside a flex column */
    }
    .pause-controls-standalone .header-input { width: 100%; } /* .header-input is already 100% width */
    .pause-controls-standalone .app-button { width: 100%; margin-top: var(--spacing-md); align-self: auto; } /* Reset align-self */

    .tabs-nav { flex-wrap: wrap; } /* Allow tabs to wrap on smaller screens */
    .tabs-nav .tab-link { margin-bottom: var(--spacing-xs); } /* Add space if they wrap */
}

@media (max-width: 992px) {
    .page-title-container { flex-direction: column; gap: var(--spacing-md); align-items: center; text-align: center; }
    .teams-link { display: inline-block; width: auto; } /* Ensure it doesn't take full width if centered */
    .map-veto-header { flex-direction: column; align-items: stretch; }
    #matchSelect { width: 100%; max-width: none; }
    .matches-grid { grid-template-columns: 1fr; } /* Single column for matches */
    .casters-grid { grid-template-columns: 1fr; } /* Single column for casters */
}

@media (max-width: 768px) {
    body { font-size: 13.5px; } /* Slightly smaller base font */
    .match-header { flex-direction: column; align-items: stretch; gap: var(--spacing-sm); }
    .match-header .status-select, .match-header .time-input { width: 100%; }
    .match-teams { flex-direction: column; align-items: stretch; gap: var(--spacing-sm); }
    .vs-indicator { margin: var(--spacing-sm) 0; text-align: center; width: auto; height: auto; border-radius: var(--border-radius-md); padding: var(--spacing-xs); }
    .winner-buttons { grid-template-columns: 1fr; } /* Stack winner buttons */

    .tabs-nav {
        flex-direction: column;
        margin: 0; /* Remove left margin */
    }
    .tabs-nav .tab-link {
        border-radius: var(--border-radius-md) var(--border-radius-md) 0 0; /* Keep top radius */
        margin-right: 0;
        margin-bottom: 2px; /* Small gap between stacked tabs */
        justify-content: center; /* Center text/icon if desired */
        bottom: 0; /* Reset bottom offset */
    }
    .tabs-nav .tab-link.active {
        border-bottom-color: var(--color-border); /* Or keep it connected to content */
        /* If connected to content, .tabs-content needs adjusted top border-radius */
    }
    .tabs-content {
        border-radius: var(--border-radius-lg); /* Full radius if tabs are fully separated */
        /* Or if tabs are "connected": */
        /* border-top-left-radius: 0; */
        /* border-top-right-radius: 0; */
    }

    .team-block .select2-container { /* Ensure Select2 within team blocks behaves */
        width: 100% !important;
    }
}

@media (max-width: 480px) {
    h1 { font-size: 1.6rem; }
    h2 { font-size: 1.1rem; }
    .header-input, .styled-select, .map-score-input, .time-input,
    .select2-container .select2-selection--single /* Target Select2 rendered input */
    {
        padding: var(--spacing-sm); /* Consistent padding */
        font-size: 0.9rem; /* Consistent font size */
    }
    .select2-container .select2-selection--single {
        padding-right: calc(var(--spacing-sm) + 20px + var(--spacing-xs)); /* Ensure arrow space is maintained */
    }

    .app-button, button { padding: var(--spacing-sm); font-size: 0.9rem; }
    .map-row { flex-direction: column; align-items: stretch; }
    .map-row .map-name-select, .map-row .map-score-input { width: 100%; }
    .map-row .map-score-input { margin-top: var(--spacing-xs); }
    .header-group { gap: var(--spacing-sm); }
    .header-group .header-input { min-width: 0;} /* Allow to shrink fully */
    .match-body { padding: var(--spacing-sm); }
    .save-match-button { font-size: 0.85rem; }
    .tabs-nav .tab-link { padding: var(--spacing-sm) var(--spacing-md); font-size: 0.9rem; }

    /* Casters list on very small screens */
    #castersListContainer li { flex-direction: column; align-items: stretch; }
    #castersListContainer .caster-details { flex-direction: column; align-items: flex-start; gap: var(--spacing-xs); margin-bottom: var(--spacing-sm); }
    #castersListContainer .caster-name { max-width: none; } /* Allow full width */
    #castersListContainer .caster-social { margin-left: 0; font-size: 0.8rem; }
    #castersListContainer .caster-actions { justify-content: flex-end; margin-top: var(--spacing-sm); }
    #castersListContainer li.editing .caster-details { flex-direction: column; gap: var(--spacing-sm); }
    #castersListContainer li .caster-details .edit-input { width: 100% !important; flex-basis: auto !important; margin-right: 0; }
}

/* Styles for the Map Veto Team Display */
.map-veto-team-display-internal {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    /* padding: var(--spacing-md) var(--spacing-lg); /* Padding теперь от .card-style родителя или настройте здесь */
}

.map-veto-team-display .team-display {
    display: flex;
    align-items: center;
    gap: var(--spacing-md); /* Промежуток между лого и именем */
    flex: 1; /* Позволяем блокам команд занимать доступное место */
    min-width: 0; /* Предотвращает выход контента за пределы блока */
}

/* Выравнивание для Команды 1 (имя слева, лого справа) */
.map-veto-team-display .team-display.team-1 {
    justify-content: flex-end; /* Сдвигаем контент вправо */
    text-align: right;
}
.map-veto-team-display .team-display.team-1 .team-display-name {
    order: 1; /* Имя первым */
     color: var(--team1-color-accent); /* Опциональный цвет акцента */
}
.map-veto-team-display .team-display.team-1 .team-display-logo {
    order: 2; /* Лого вторым */
}

/* Выравнивание для Команды 2 (лого слева, имя справа) */
.map-veto-team-display .team-display.team-2 {
    justify-content: flex-start; /* Оставляем контент слева */
    text-align: left;
}
.map-veto-team-display .team-display.team-2 .team-display-name {
     color: var(--team2-color-accent); /* Опциональный цвет акцента */
}
/* Для Команды 2 порядок по умолчанию (лого слева, имя справа) */


.map-veto-team-display .team-display-logo {
    width: 32px; /* Размер лого */
    height: 32px;
    object-fit: contain; /* Масштабирование лого */
    border-radius: var(--border-radius-sm);
    background-color: rgba(255,255,255,0.05); /* Небольшой фон на случай ошибки */
    flex-shrink: 0; /* Лого не должно сжиматься */
    border: 1px solid var(--color-border-light); /* Тонкая рамка */
}

.map-veto-team-display .team-display-name {
    font-size: 1.2rem; /* Размер шрифта имени */
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    white-space: nowrap; /* Запрет переноса */
    overflow: hidden; /* Скрытие лишнего */
    text-overflow: ellipsis; /* Многоточие для длинных имен */
}

.map-veto-team-display .vs-indicator {
    font-weight: var(--font-weight-bold);
    color: var(--color-text-muted);
    font-size: 1.1rem;
    flex-shrink: 0; /* VS не должно сжиматься */
}

/* Небольшая адаптация для очень маленьких экранов */
@media (max-width: 480px) {
    .map-veto-team-display {
        flex-direction: column; /* Ставим элементы друг под другом */
        gap: var(--spacing-sm);
    }
    .map-veto-team-display .team-display {
        width: 100%;
        justify-content: center; /* Центрируем на маленьких экранах */
        text-align: center;
    }
     .map-veto-team-display .team-display.team-1 .team-display-name,
     .map-veto-team-display .team-display.team-1 .team-display-logo {
        order: initial; /* Сбрасываем порядок */
     }
}

/* === VRS Table Styles === */
/*
   .vrs-block-wrapper уже существует в HTML и имеет заголовок h3.
   Ему можно добавить стили, если он должен выглядеть как отдельная карточка,
   но в вашем случае он уже внутри .match-body, так что достаточно разделителя и отступов.
*/
.vrs-block-wrapper {
    border-top: 1px solid var(--color-divider); /* Разделитель от секции карт */
    padding-top: var(--spacing-md); /* Отступ сверху */
    margin-top: var(--spacing-md); /* Дополнительный отступ, если необходимо */
}

.vrs-block-wrapper h3 { /* Заголовок "VRS Статистика" */
    font-size: 0.9rem;   /* Размер, как у заголовка "Карты" */
    margin-bottom: var(--spacing-sm);
    color: var(--color-text-secondary);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

.vrs-block-wrapper h3 i { /* Иконка в заголовке VRS */
    margin-right: var(--spacing-xs);
    color: var(--color-primary-base); /* Или другой акцентный цвет, например, var(--color-secondary-base) */
}

.vrs-table {
    width: 100%;
    border-collapse: separate; /* Позволяет использовать border-spacing и border-radius для таблицы */
    border-spacing: 0;
    font-size: 0.85rem; /* Немного меньше основного текста для компактности */
    background-color: var(--color-surface-tertiary); /* Фон для всей таблицы */
    border: 1px solid var(--color-border); /* Общая рамка для таблицы */
    border-radius: var(--border-radius-md); /* Скругление углов таблицы */
    /* overflow: hidden; /* Раскомментируйте, если нужен эффект "обрезки" дочерних элементов по border-radius таблицы */
}

.vrs-table th,
.vrs-table td {
    padding: var(--spacing-sm);
    text-align: center;
    border-bottom: 1px solid var(--color-divider); /* Горизонтальные линии-разделители */
    /* Если у .vrs-table есть общая рамка, индивидуальные рамки ячеек можно убрать или сделать тоньше */
    /* border-left: 1px solid var(--color-divider); */ /* Опционально: вертикальные линии */
}
/* .vrs-table td:first-child, .vrs-table th:first-child { border-left: none; } */ /* Если есть вертикальные линии, но не нужны скраю */
/* .vrs-table td:last-child, .vrs-table th:last-child { border-right: none; } */


.vrs-table th {
    background-color: var(--color-surface); /* Фон для заголовков, чуть темнее фона ячеек */
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    text-transform: uppercase;
    letter-spacing: 0.04em;
    font-size: 0.75rem; /* Заголовки можно сделать еще немного меньше */
}

/* Убираем нижнюю границу у последней строки, чтобы не было двойной линии с рамкой таблицы */
.vrs-table tr:last-child td {
    border-bottom: none;
}

/* Стили для первой ячейки (имя команды) */
.vrs-table td:first-child {
    font-weight: var(--font-weight-semibold);
    text-align: left; /* Имена команд обычно выравнивают по левому краю */
    padding-left: var(--spacing-md); /* Немного больше отступ слева для имени */
    min-width: 90px; /* Минимальная ширина для предотвращения слишком сильного сжатия */
}

/* Акцентные цвета для имен команд в VRS-таблице */
.vrs-table tr.team-1-row td:first-child { /* td с именем команды 1 */
    color: var(--team1-color-accent);
    /* background-color: var(--team1-color-bg); /* Если нужен фон */
    /* border-left: 3px solid var(--team1-color-accent); /* Акцентная линия */
    /* padding-left: calc(var(--spacing-md) - 3px); /* Компенсация для border-left */
}

.vrs-table tr.team-2-row td:first-child { /* td с именем команды 2 */
    color: var(--team2-color-accent);
    /* background-color: var(--team2-color-bg); */
    /* border-left: 3px solid var(--team2-color-accent); */
    /* padding-left: calc(var(--spacing-md) - 3px); */
}

/* Эффект при наведении на строку таблицы (опционально) */
.vrs-table tbody tr:hover td {
    background-color: rgba(var(--rgb-primary), 0.05); /* Легкое выделение строки */
}

/* Инпуты внутри VRS таблицы */
.vrs-input {
    /* Наследование общих стилей инпутов */
    background-color: var(--color-surface-tertiary);
    border: 1px solid var(--color-border);
    color: var(--color-text-primary);
    border-radius: var(--border-radius-sm); /* Можно сделать радиус меньше для компактности */
    padding: var(--spacing-xs); /* Уменьшенный padding для инпутов в таблице */
    font-size: 0.85rem; /* Размер шрифта как у текста в ячейках */
    line-height: 1.4;   /* Стандартный line-height для инпутов */
    text-align: center; /* Выравнивание текста по центру */
    width: 100%;        /* Инпут занимает всю ширину ячейки */
    box-shadow: var(--shadow-inset); /* Тень внутрь, если используется на других инпутах */
    font-family: var(--font-family-base); /* Явное указание семейства шрифтов */
    transition: var(--transition-base); /* Плавные переходы для :hover и :focus */
    outline: none; /* Убираем стандартный outline */
}

.vrs-input:hover {
    border-color: var(--color-primary-light); /* Стандартный hover-эффект */
}

.vrs-input:focus {
    border-color: var(--color-primary-light); /* Стандартный focus-эффект */
    box-shadow: 0 0 0 2px rgba(var(--rgb-primary), 0.25), var(--shadow-inset); /* Уменьшенная тень для фокуса в таблице */
    background-color: var(--color-surface); /* Можно немного изменить фон при фокусе */
}

.vrs-input::placeholder {
    color: var(--color-text-placeholder);
    opacity: 0.7; /* Чуть менее заметный плейсхолдер */
}

/* === Primary Button Enhancements === */
/* Стили для основного состояния кнопок .app-button.primary */
.app-button.primary {
    /* Градиентный фон для большей визуальной привлекательности */
    background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary-dark));
    /* Рамка, соответствующая темному оттенку градиента */
    border: 1px solid var(--color-primary-dark);
    /* Комбинированная тень: базовая темная и акцентная цветная */
    box-shadow: 0 4px 10px rgba(0,0,0,0.3), /* Основная тень для объема */
                0 2px 5px rgba(var(--rgb-primary), 0.4); /* Тень с цветом кнопки для акцента */
    color: var(--color-text-on-primary);
    /* Легкая тень для текста для улучшения читаемости */
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* Плавный переход для анимации иконки */
.app-button.primary i {
    transition: transform 0.2s ease-out;
}

/* Улучшенный стиль при наведении для .app-button.primary */
/* :not селекторы гарантируют, что этот стиль не применяется к отключенным кнопкам или кнопкам в состоянии сохранения/ошибки */
.app-button.primary:not(:disabled):not(.saving):not(.saved):not(.error):hover {
    /* Тонированный фон для эффекта "стекла", использующий основной цвет кнопки */
    background-color: rgba(var(--rgb-primary), 0.25);
    /* Усиленный эффект размытия для "стекломорфизма" */
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    /* Более яркая рамка при наведении */
    border-color: var(--color-primary-light);
    color: var(--color-text-primary); /* Цвет текста как у общих кнопок при наведении */
    /* Более заметный "подъем" и небольшое увеличение кнопки */
    transform: translateY(-3px) scale(1.02);
    /* Комплексная тень: основная более рассеянная и эффект свечения */
    box-shadow: 0 8px 20px rgba(0,0,0,0.25), /* Усиленная основная тень */
                var(--glow-primary); /* Эффект свечения, определенный в :root */
}

/* Анимация иконки при наведении на .app-button.primary */
.app-button.primary:not(:disabled):not(.saving):not(.saved):not(.error):hover i {
    transform: scale(1.15) rotate(-5deg); /* Иконка увеличивается и слегка поворачивается */
}

/* Сохранение эффекта блика (из общих стилей .app-button) для .app-button.primary при наведении */
.app-button.primary:not(:disabled):not(.saving):not(.saved):not(.error):hover::before {
    left: 125%; /* Движение блика */
    opacity: 1; /* Появление блика */
    /* Плавность анимации блика */
    transition: left 0.6s cubic-bezier(0.23, 1, 0.32, 1),
                opacity 0.2s ease-in-out;
}

/* Стиль при активном нажатии на .app-button.primary */
.app-button.primary:not(:disabled):not(.saving):not(.saved):not(.error):active {
    /* Более темный тонированный фон для "стекла" при нажатии */
    background-color: rgba(var(--rgb-primary), 0.15);
    -webkit-backdrop-filter: blur(5px);
    backdrop-filter: blur(5px);
    /* Легкое "вдавливание" кнопки */
    transform: translateY(-1px) scale(1);
    /* Усиленная внутренняя тень и небольшая внешняя цветная тень */
    box-shadow: inset 0 2px 6px rgba(0,0,0,0.4),
                0 1px 3px rgba(var(--rgb-primary),0.3);
    border-color: var(--color-primary-dark);
}

/* Легкое изменение иконки при активном нажатии */
.app-button.primary:not(:disabled):not(.saving):not(.saved):not(.error):active i {
    transform: scale(1.05);
}

/* Гарантированное скрытие блика при активном нажатии на .app-button.primary */
.app-button.primary:not(:disabled):not(.saving):not(.saved):not(.error):active::before {
    opacity: 0;
    transition: none;
}

/*
   Примечание: Существующие стили для состояний :disabled, .saving, .saved, .error
   в классе .app-button используют !important. Это означает, что они будут
   корректно переопределять новые стили для .app-button.primary,
   когда эти состояния активны (что является ожидаемым поведением).
*/

.map-veto-team-display-internal .team-display {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    flex: 1;
    min-width: 0;
}

.map-veto-team-display-internal .team-display.team-1 {
    justify-content: flex-end;
    text-align: right;
}
.map-veto-team-display-internal .team-display.team-1 .team-display-name {
    order: 1;
    color: var(--team1-color-accent);
}
.map-veto-team-display-internal .team-display.team-1 .team-display-logo {
    order: 2;
}

.map-veto-team-display-internal .team-display.team-2 {
    justify-content: flex-start;
    text-align: left;
}
.map-veto-team-display-internal .team-display.team-2 .team-display-name {
    color: var(--team2-color-accent);
}

.map-veto-team-display-internal .team-display-logo {
    width: 32px;
    height: 32px;
    object-fit: contain;
    border-radius: var(--border-radius-sm);
    background-color: rgba(255,255,255,0.05);
    flex-shrink: 0;
    border: 1px solid var(--color-border-light);
}

.map-veto-team-display-internal .team-display-name {
    font-size: 1.2rem;
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.map-veto-team-display-internal .vs-indicator {
    font-weight: var(--font-weight-bold);
    color: var(--color-text-muted);
    font-size: 1.1rem;
    flex-shrink: 0;
}

@media (max-width: 480px) {
    .map-veto-team-display-internal { /* Адаптация для маленьких экранов */
        flex-direction: column;
        gap: var(--spacing-sm);
    }
    .map-veto-team-display-internal .team-display {
        width: 100%;
        justify-content: center;
        text-align: center;
    }
    .map-veto-team-display-internal .team-display.team-1 .team-display-name,
    .map-veto-team-display-internal .team-display.team-1 .team-display-logo {
        order: initial; /* Сбрасываем порядок на маленьких экранах */
    }
}

/* === Основной контейнер вкладки Таймер и двухколоночный макет === */
#tab-timer .timer-tab-layout-container {
    display: flex;
    flex-wrap: wrap; /* Позволит колонкам переноситься на маленьких экранах */
    gap: var(--spacing-lg, 20px); /* Промежуток между колонками */
    align-items: flex-start; /* Выравниваем колонки по верху */
}

#tab-timer .timer-controls-column {
    flex: 2 1 480px; /* Колонка настроек: может расти, может сжиматься, базовая ширина ~480px */
    min-width: 300px; 
}

#tab-timer .timer-link-column {
    flex: 1 1 280px; /* Колонка ссылки: может расти, может сжиматься, базовая ширина ~280px */
    min-width: 260px;
}

/* === Обертка для элементов управления таймером (левая колонка) === */
#tab-timer .timer-controls-wrapper {
    background-color: var(--color-surface);
    padding: var(--spacing-lg);
    border-radius: var(--border-radius-lg);
    /* max-width: 550px; /* Убрано, так как ширина контролируется колонкой */
    /* margin: 0 auto;   /* Убрано */
    height: 100%; /* Чтобы карточка занимала всю высоту колонки, если контент меньше */
    box-sizing: border-box; /* На всякий случай */
}

#tab-timer .tab-title { /* Заголовок "Управление таймером" */
    text-align: center;
    margin-bottom: var(--spacing-lg); 
}
#tab-timer .tab-title i {
    margin-right: var(--spacing-sm);
}

/* === Группа выбора режима (Radio-кнопки) === */
#tab-timer .mode-group-timer {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;
    gap: var(--spacing-md); /* Промежуток между radio-метками */
    margin-bottom: var(--spacing-lg);
    padding: var(--spacing-xs) 0;
    width: 100%;
}

#tab-timer .mode-group-timer .radio-label {
    display: inline-flex !important; 
    align-items: center;
    color: var(--color-text-primary);
    font-size: 0.9rem;
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    padding: var(--spacing-xs) var(--spacing-sm);
    margin: 0;
    border-radius: var(--border-radius-sm);
    transition: background-color 0.2s ease;
}

#tab-timer .mode-group-timer .radio-label:hover {
    background-color: rgba(var(--rgb-primary, 122, 100, 185), 0.1);
}

#tab-timer .mode-group-timer input[type="radio"] {
    margin-right: var(--spacing-xs); /* Уменьшен отступ */
    accent-color: var(--color-primary-base);
    transform: scale(1); /* Обычный размер */
    vertical-align: middle;
}

/* === Контейнер для секций ввода (Длительность / Целевое время) === */
#tab-timer .timer-input-container {
    margin-bottom: var(--spacing-lg);
}

#tab-timer .timer-input-sections {
    padding-top: var(--spacing-sm);
    /* background-color: transparent; /* Убедимся, что нет лишнего фона */
    /* border: none; */
}

#tab-timer .timer-input-sections .form-section-description {
    font-size: 0.9rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-md); /* Отступ увеличен для разделения от полей */
    text-align: center;
}

/* === Горизонтальное расположение полей ЧЧ:ММ:СС === */
#tab-timer .timer-fields-horizontal {
    display: flex;
    align-items: flex-start; /* Выравнивание по верху (по меткам) */
    gap: var(--spacing-xs);  
    justify-content: center;
    flex-wrap: nowrap; /* Поля не будут переноситься, если контейнер слишком узкий (лучше wrap для адаптивности) */
                     /* Если хотите перенос, используйте flex-wrap: wrap; */
}

#tab-timer .timer-fields-horizontal .form-group.timer-field {
    flex: 0 1 auto; /* Не растягивать, сжиматься при необходимости, базовая ширина по контенту */
    width: auto; 
    min-width: 55px; 
    max-width: 75px; 
    text-align: center; /* Центрируем содержимое (label + input) внутри этого блока */
}

#tab-timer .timer-fields-horizontal .form-group.timer-field label {
    display: block;
    font-size: 0.7rem; 
    color: var(--color-text-muted);
    margin-bottom: 4px; /* Отступ между меткой и полем */
    text-transform: uppercase; 
    line-height: 1;
}

#tab-timer .timer-fields-horizontal input[type="number"].timer-input-value {
    width: 100%;
    text-align: center;
    font-size: 1.4rem; 
    padding: var(--spacing-sm) 5px; /* Вертикальный отступ основной, горизонтальный минимальный */
    line-height: 1.3; 
    background-color: var(--color-surface-secondary); 
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-sm); /* Единый радиус */
}
#tab-timer .timer-fields-horizontal input[type="number"].timer-input-value:focus {
    border-color: var(--color-primary-base);
    background-color: var(--color-surface);
    box-shadow: 0 0 0 2px rgba(var(--rgb-primary), 0.2); /* Меньшая тень фокуса */
}

#tab-timer .timer-fields-horizontal .timer-field-separator {
    font-size: 1.4rem; 
    font-weight: var(--font-weight-normal);
    color: var(--color-text-muted);
    line-height: 1;
    /* Выравниваем по центру инпутов: (высота метки + ее отступ) + (половина высоты инпута) - (половина своей высоты) */
    /* Это требует точной подгонки, или проще align-items: center; для всей .timer-fields-horizontal */
    /* При align-items: flex-start; для .timer-fields-horizontal: */
    margin-top: calc(0.7rem + 4px); /* Высота label + ее margin-bottom */
    padding-top: calc(var(--spacing-sm) + (1.4rem * 1.3 / 2) - (1.4rem / 2)); /* Выравнивание по текстовой части инпута */
    align-self: flex-start; /* Так как родитель align-items: flex-start */
}

/* Для двух полей (режим "По таргету") */
#tab-timer #timerTargetInputs .timer-fields-horizontal .form-group.timer-field {
    max-width: 85px; /* Немного шире, если нужно для двух полей */
}


/* === Кнопка Запуска/Обновления таймера === */
#tab-timer .timer-action-button.app-button.primary {
    font-size: 1rem; 
    padding-top: var(--spacing-sm);
    padding-bottom: var(--spacing-sm);
    margin-top: var(--spacing-lg); 
    width: 100%; /* Кнопка на всю ширину колонки настроек */
    display: block; 
    /* min-width: 250px; /* Убрано, т.к. width: 100% */
    /* margin-left: auto; /* Убрано */
    /* margin-right: auto; /* Убрано */
}

/* === Сообщение о результате === */
#tab-timer .timer-message-feedback {
    text-align: center;
    font-size: 0.85rem;
    font-weight: var(--font-weight-medium);
    min-height: 1.3em; 
    margin-top: var(--spacing-sm); 
}
#tab-timer .timer-message-feedback.success-message { 
    color: var(--color-success);
}
#tab-timer .timer-message-feedback.error-message { 
    color: var(--color-error);
}


/* === Блок со ссылкой на таймер (правая колонка) === */
#tab-timer .timer-link-wrapper {
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center; 
    background-color: var(--color-surface-secondary); 
    padding: var(--spacing-lg);
    border-radius: var(--border-radius-lg);
    box-sizing: border-box;
}

#tab-timer .timer-link-title {
    font-size: 1.1rem; /* Меньше, чем главный заголовок вкладки */
    color: var(--color-text-primary);
    text-align: center;
    margin-bottom: var(--spacing-md);
    font-weight: var(--font-weight-semibold);
}

#tab-timer .timer-url-display-container {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-sm); /* Отступ от текста-описания */
    margin-bottom: var(--spacing-md); /* Отступ до кнопки "Открыть" */
}

#tab-timer #timerPageUrl.header-input {
    flex-grow: 1;
    background-color: var(--color-surface); 
    color: var(--color-text-muted);
    cursor: default;
    font-size: 0.85rem; /* Меньше шрифт для URL */
    padding: var(--spacing-sm) var(--spacing-md);
}
#tab-timer #copyTimerUrlButton.small-button {
    padding: var(--spacing-sm); 
    min-width: auto; 
    font-size: 0.9rem; 
    background-color: var(--color-surface); /* Совпадает с инпутом */
    border-color: var(--color-border);
}
#tab-timer #copyTimerUrlButton.small-button:hover {
    background-color: var(--color-primary-base) !important;
    color: var(--color-text-on-primary) !important;
}
#tab-timer #copyTimerUrlButton.small-button i {
    margin-right: 0; 
}

#tab-timer .timer-link-column .app-button.primary { /* Кнопка "Открыть /timer.html" */
    display: flex; /* Для центрирования иконки и текста */
    align-items: center;
    justify-content: center;
    width: 100%;
}
#tab-timer .timer-link-column .app-button.primary i {
    margin-right: var(--spacing-sm); /* Отступ для иконки */
}


/* === Адаптивность для двух колонок === */
@media (max-width: 880px) { 
    #tab-timer .timer-tab-layout-container {
        flex-direction: column; 
    }

    #tab-timer .timer-controls-column,
    #tab-timer .timer-link-column {
        flex-basis: auto; 
        width: 100%;
    }
    #tab-timer .timer-link-wrapper {
        justify-content: flex-start; /* Сброс центрирования по вертикали для компактности */
        margin-top: 0; /* Убираем отступ, если он был от gap */
    }
    #tab-timer .timer-controls-wrapper {
        /* Можно добавить margin-bottom, если колонки слипаются */
         margin-bottom: var(--spacing-lg);
    }
}

@media (max-width: 480px) { /* Дополнительная адаптация для очень маленьких экранов */
    #tab-timer .timer-fields-horizontal {
        flex-direction: column; /* Поля ввода становятся вертикальными */
        align-items: stretch;   /* Растягиваем на всю ширину */
        gap: var(--spacing-md); /* Увеличиваем gap для вертикального расположения */
    }
    #tab-timer .timer-fields-horizontal .form-group.timer-field {
        max-width: none; /* Снимаем ограничение по ширине */
        width: 100%;
    }
    #tab-timer .timer-fields-horizontal .timer-field-separator {
        display: none; /* Скрываем разделители в вертикальном режиме */
    }
    #tab-timer .mode-group-timer {
        flex-direction: column; /* Режимы тоже вертикально */
        align-items: flex-start; /* Выравниваем по левому краю */
        gap: var(--spacing-sm);
    }
}

#tab-timer .mini-timer-preview-container {
    background-color: var(--color-surface); /* Или var(--color-background) для большего контраста с карточкой */
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--border-radius-md);
    border: 1px solid var(--color-border);
    margin-bottom: var(--spacing-lg); /* Отступ перед описанием ссылки */
    text-align: center;
}

#tab-timer .mini-timer-time {
    font-family: var(--font-family-base); /* Используем основной шрифт сайта */
    /* Если хотите цифровой шрифт, можно указать 'Segment7', 'DSEG7', 'ProximaNova-Bold' и т.д. */
    /* font-family: 'ProximaNova-Bold', var(--font-family-base); */
    font-size: 2rem; /* Размер шрифта для времени, подберите по вкусу */
    color: var(--color-primary-light); /* Яркий цвет для времени */
    font-weight: var(--font-weight-bold);
    letter-spacing: 1px;
    line-height: 1.1;
    margin-bottom: 3px;
}

#tab-timer .mini-timer-status {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.page-title-actions {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm); /* Используем вашу переменную для отступа */
}

.skins-link {
    /* Сюда можно добавить специфичные стили для кнопки SKINS, если потребуется */
}